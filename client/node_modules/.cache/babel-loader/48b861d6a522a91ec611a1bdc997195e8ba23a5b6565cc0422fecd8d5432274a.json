{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import tournamentApi from'../../services/tournamentApi';// Updated import\nimport LoadingSpinner from'../../components/common/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Tournaments=()=>{const[tournaments,setTournaments]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const fetchTournaments=async()=>{try{setLoading(true);const response=await tournamentApi.getAllTournaments();setTournaments(response.data||[]);}catch(error){console.error('Error fetching tournaments:',error);setError('Failed to load tournaments');}finally{setLoading(false);}};fetchTournaments();},[]);if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"tournaments-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Tournaments\"}),/*#__PURE__*/_jsx(Link,{to:\"/tournaments/create\",className:\"btn btn-primary\",children:\"Create Tournament\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),tournaments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No tournaments found. Create your first tournament to get started.\"}),/*#__PURE__*/_jsx(Link,{to:\"/tournaments/create\",className:\"btn btn-primary\",children:\"Create Tournament\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"tournaments-grid\",children:tournaments.map(tournament=>/*#__PURE__*/_jsxs(\"div\",{className:\"tournament-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:tournament.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"tournament-dates\",children:[/*#__PURE__*/_jsx(\"span\",{children:new Date(tournament.start_date||tournament.startDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"span\",{children:\" to \"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(tournament.end_date||tournament.endDate).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"tournament-format\",children:[tournament.format,\" | \",tournament.scoring_system||tournament.scoringSystem]}),tournament.description&&/*#__PURE__*/_jsx(\"p\",{className:\"tournament-description\",children:tournament.description}),/*#__PURE__*/_jsx(Link,{to:`/tournaments/${tournament.id}`,className:\"btn btn-outline\",children:\"View Details\"})]},tournament.id))})]})});};export default Tournaments;","map":{"version":3,"names":["React","useState","useEffect","Link","tournamentApi","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Tournaments","tournaments","setTournaments","loading","setLoading","error","setError","fetchTournaments","response","getAllTournaments","data","console","className","children","to","length","map","tournament","name","Date","start_date","startDate","toLocaleDateString","end_date","endDate","format","scoring_system","scoringSystem","description","id"],"sources":["C:/Users/emil/OneDrive/Documents/development/apiDevelopment/pubg-tournament-tracker/client/src/pages/tournaments/Tournaments.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport tournamentApi from '../../services/tournamentApi'; // Updated import\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\n\nconst Tournaments = () => {\n  const [tournaments, setTournaments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  \n  useEffect(() => {\n    const fetchTournaments = async () => {\n      try {\n        setLoading(true);\n        const response = await tournamentApi.getAllTournaments();\n        setTournaments(response.data || []);\n      } catch (error) {\n        console.error('Error fetching tournaments:', error);\n        setError('Failed to load tournaments');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchTournaments();\n  }, []);\n  \n  if (loading) {\n    return <LoadingSpinner />;\n  }\n  \n  return (\n    <div className=\"tournaments-page\">\n      <div className=\"container\">\n        <div className=\"page-header\">\n          <h1 className=\"page-title\">Tournaments</h1>\n          <Link to=\"/tournaments/create\" className=\"btn btn-primary\">Create Tournament</Link>\n        </div>\n        \n        {error && <div className=\"error-message\">{error}</div>}\n        \n        {tournaments.length === 0 ? (\n          <div className=\"empty-state\">\n            <p>No tournaments found. Create your first tournament to get started.</p>\n            <Link to=\"/tournaments/create\" className=\"btn btn-primary\">Create Tournament</Link>\n          </div>\n        ) : (\n          <div className=\"tournaments-grid\">\n            {tournaments.map(tournament => (\n              <div key={tournament.id} className=\"tournament-card\">\n                <h2>{tournament.name}</h2>\n                <div className=\"tournament-dates\">\n                  <span>{new Date(tournament.start_date || tournament.startDate).toLocaleDateString()}</span>\n                  <span> to </span>\n                  <span>{new Date(tournament.end_date || tournament.endDate).toLocaleDateString()}</span>\n                </div>\n                <p className=\"tournament-format\">{tournament.format} | {tournament.scoring_system || tournament.scoringSystem}</p>\n                {tournament.description && (\n                  <p className=\"tournament-description\">{tournament.description}</p>\n                )}\n                <Link to={`/tournaments/${tournament.id}`} className=\"btn btn-outline\">View Details</Link>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Tournaments;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}